<div class="bg-white mb-6 ">
<h2 class="text-center ">{{ i18n "fontpage_collections"}}</h2>


{{ range $index, $t := .Site.Taxonomies.products }}
{{ $collection := printf "/products/%s/" $index }}
{{ with $.Site.GetPage $collection }}
{{ if .Params.frontpage }}

<div class="grid grid-cols-1 md:grid-cols-2" 
    x-data="{ 
    {{ range first 1 .Data.Pages }}  
    title: '{{.Params.name}}',
    url: '{{.Params.url}}',
    id: '{{.Params.id }}',
    retail: '{{.Params.retail}}',
    price: '{{.Params.price}}',
    beer_types: '{{.Params.beer_types}}',
    image: '/uploads/beers/{{.Params.image}}',
    description: '{{.Params.description}}',
    boximage: [],
    quantity: '1',
    stock: '{{ .Params.stock }}',
    box6: '12',
    box12: '24',
    box24: '48'
    {{ end }}
    }">


<div class="col-span-1 ">

{{/*  Image block  */}}
<div class="flex justify-center w-full items-center h-full ">
    <img x-bind:src="image" x-bind:alt="title" />
</div>
{{/*  end Image block  */}}

</div>



<div class="col-span-1 ">


{{/*  Title  */}}
<div class="w-full text-center md:text-left mb-2">{{ .Title }}</div>
<h2 class="text-3xl font-bold text-center md:text-left" x-text="title" >{{ .Params.name }}</h2>

{{/*  PRICE  */}}
<div class="flex items-baseline mb-2 justify-center md:justify-left">
<div x-text="price +  '€' "  class="flex-inline text-xl font-bold pr-2 font-sans"></div>
<div x-text="retail + '€' "  class="flex-inline text-sm font-normal line-through font-sans" x-show="retail > 0"></div>
</div>


{{/*  Options block  */}}
<div class="col-span-1">


    <div class="flex justify-start col-span-1 mb-4">
        {{ range .Pages  }}   
            <button 
            class="border-2 border-gray-400 px-4 py-2 mr-2"
            type="radio" 
            x-on:click="
            id = '{{.Params.id}}',
            url = '{{.Params.url}}'
            price = '{{.Params.price}}',
            title= '{{ .Params.name }}',
            base = '{{ .Params.base }}',
            image= '/uploads/beers/{{.Params.image}}',
            value='{{.Params.name}}',
            stock='{{.Params.stock}}' 
            ">
            {{ if .Params.volume }} {{.Params.volume }} {{ end}}
            {{ if .Params.materials }}{{ .Params.materials }}  {{ end }}
            {{ if .Params.sizes }}{{ .Params.sizes }} {{ end }} 
            {{ if .Params.sizes }}{{ .Params.base }} {{ end }}
            {{ if .Params.base }}{{ .Params.base }}{{ end }}
            </button>
        {{ end }}
    </div>








{{/*  Snipcart button  */}}

<div x-text="stock" 
x-show="stock === 'out of stock' " 
class="border-2 border-gray-300 text-gray-300 w-full py-2 uppercase text-md text-center">
</div>

<button x-show="stock != 'out of stock' "
class="snipcart-add-item border-2 border-black w-full py-2 uppercase text-md mb-4"
x-bind:data-item-url="url"
x-bind:data-item-name="title"
x-bind:data-item-id="id"
x-bind:data-item-quantity = "quantity"
x-bind:data-item-image="image"
x-bind:data-item-price="price"
x-bind:data-item-description="description"
x-bind:data-item-price-box6="12"
x-bind:data-item-price-box12="24"
x-bind:data-item-price-box24="48"
>
Add to cart
</button>
</div>
{{/*  end options block  */}}

{{/*  end first 1/3 */}}




{{/*  end second 1/3 */}}


</div>



</div>
</div>

</div>

     {{end}}
{{end}}
{{ end }}

</div>
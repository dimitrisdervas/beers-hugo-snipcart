{{ define "main" }}

{{ partial "slideshow_hero.html" . }}

{{ partial "slideshow_promotedproducts.html" . }}

<main class="products">
  <div class="promotional-message">
    <h3>REDISCOVER</h3>
    <h2>Cheese</h2>
    <p>An exclusive <strong>collection of handcrafted cheese</strong> for the hardcore cheese enthusiasts.</p>
  </div>

  
    

  <section>
    <ul id="all-taxonomies">
        {{ range $taxonomy_term, $taxonomy := .Site.Taxonomies }}
            {{ with $.Site.GetPage (printf "/%s" $taxonomy_term) }}
                <li><a href="{{ .Permalink }}">{{ $taxonomy_term }}</a>
                    <ul>
                        {{ range $key, $value := $taxonomy }}
                            <li>{{ $key }}</li>
                            <ul>
                                {{ range $value.Pages }}
                                    <li hugo-nav="{{ .RelPermalink}}">
                                        <a href="{{ .Permalink}}">{{ .LinkTitle }}</a>
                                    </li>
                                {{ end }}
                            </ul>
                        {{ end }}
                    </ul>
                </li>
            {{ end }}
        {{ end }}
    </ul>
</section>


  {{ range .Site.Taxonomies.products }}

    {{ range .Pages }}
  
        <div class="product">
            
            <h2 class="product__name"><a href="{{ .Params.url }}">{{ .Params.name }}</a></h2>
        
            <img class="product__image" src="/uploads/beers/{{ .Params.image }}" alt="" />
        
            {{ range .Params.breweries}}
            <div class="flex"><a href="/breweries/{{ . | urlize }}">{{.}}</a></div>
            {{ end }}
        
            <p class="product__description">{{ .Params.description }}</p>
            <div class="product__button-container">
            <div class="product__price">â‚¬{{ .Params.price }}</div>
        
            {{ partial "snipcart_button.html" . }}
        
            </div>
        </div>
  
    {{ end }}
  {{ end }}
</main>

{{end}}